<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="msapplication-tap-highlight" content="no">
<meta name="description" content="">
<title>Magistral Personal</title>
<link rel="shortcut icon" href="/img/favicon.ico"></link>
<link
	href="https://cdn.datatables.net/v/dt/dt-1.10.16/datatables.min.css"
	rel="stylesheet">
<link href="/css/jqvmap.css" rel="stylesheet">
<link href="/css/flag-icon-css/css/flag-icon.min.css" rel="stylesheet">
<!-- Fullcalendar-->
<link
	href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.7.0/fullcalendar.min.css"
	rel="stylesheet">
<!-- Materialize-->
<link href="/css/admin-materialize.min.css" rel="stylesheet">
<!-- Material Icons-->
<link href="https://fonts.googleapis.com/icon?family=Material+Icons"
	rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>
<body>

	<main>
		<div class="container">
			<div th:insert="/index :: header"></div>
			<div class="col s12">

				<div class="card grey lighten-4"
					style="padding: 20px 20px 20px 20px">
					<div class="card-metric-title center"
						style="font-weight: bold; font-size: 18px;">Cadastro clínica</div>
						
					<div class="divider"></div>
					<br />

					<form class="col s12" action="salvarclinica" method="post"
						th:object="${clinicaobj}"
						onsubmit="return validarCampos()? true : false">
						
						<div class="row">
							<div class="col s12 m6 offset-m6">
								<div class="right">
									<button
										class="waves-effect waves-teal btn-floating blue tooltipped"
										data-position="botton" data-tooltip="Salvar" name="action"
										type="submit">
										<i class="material-icons">save</i>
									</button>

									<a href="/cadastroclinica"
										class="waves-effect waves-teal btn-floating tooltipped"
										data-position="botton" data-tooltip="Novo"> <i
										class="material-icons">add_box</i>
									</a>


									<button
										class="waves-effect waves-teal btn-floating red tooltipped"
										data-position="botton" data-tooltip="Limpar" type="reset"
										name="action">
										<i class="medium material-icons">clear</i>
									</button>

									<a href="/listarclinicas"
										class="waves-effect waves-teal btn-floating grey darken-2 tooltipped"
										data-position="botton" data-tooltip="Listar clínicas"
										type="button" name="listar"> <i class="material-icons">list</i>
									</a>
								</div>
							</div>
						</div>

						<div class="row">

							<div class="input-field col s6 m3">
								<span>Data cadastro: </span> <span
									th:text="${#dates.format(clinicaobj.data_cadastro, 'dd/MM/yyyy')}"></span>

							</div>
							<div class="input-field col s6 m3">
								<span>Última alteração: </span> <span
									th:text="${#dates.format(clinicaobj.data_alteracao, 'dd/MM/yyyy')}"></span>
							</div>

						</div>
						<div class="divider"></div>
						<br />

						<div class="row">

							<input type="hidden" name="idclinica" th:field="*{idclinica}"
								class="validade" readonly="readonly">
							<div class="input-field col s12 m6">
								<input id="nome" type="text" name="nome" class="validate"
									th:field="*{nome}"> <label for="nome">Nome</label>
							</div>
							<div class="input-field col s12 m6">
								<input id="razao_social" type="text" name="razao_social"
									class="validate" th:field="*{razao_social}">
								<label for="razao_social">Razão social</label>
							</div>
						</div>
						<div class="row">
							<div class="input-field col s12 m4">
								<input id="cnpj" type="text" name="cnpj" th:field="*{cnpj}"
									class="validate"> <label for="cnpj">CNPJ</label>
							</div>
							<div class="input-field col s12 m4">
								<input id="inscricao_estadual" type="text"
									name="inscricao_estadual" th:field="*{inscricao_estadual}"
									class="validate"> <label for="inscricao_estadual">Inscrição
									Estadual</label>
							</div>
							<div class="input-field col s12 m4">
								<input id="inscricao_municipal" type="text"
									name="inscricao_municipal" th:field="*{inscricao_municipal}"
									class="validate"> <label for="inscricao_municipal">Inscricao
									Municipal </label>
							</div>


						</div>

						<div class="row">
							<div class="input-field col s12 m2">
								<input id="telefone1" type="text" name="telefone1"
									th:field="*{telefone1}" class="validate"> <label
									for="telefone1">Telefone</label>
							</div>
							<div class="input-field col s12 m2">
								<input id="telefone2" type="text" name="telefone2"
									th:field="*{telefone2}" class="validate"> <label
									for="telefone2">Telefone 2</label>
							</div>
							<div class="input-field col s12 m8">
								<input id="email" type="email" name="email" class="validate"
									th:field="*{email}"> <label for="email">Email</label>
							</div>
						</div>
						<div class="row">
							<div class="input-field col s12 m2">
								<input id="cep" type="text" name="cep" class="validate"
									th:field="*{cep}"> <label for="cep">CEP</label>
							</div>
							<div class="input-field col s12 m10">
								<input id="rua" type="text" name="rua" class="validate"
									th:field="*{rua}"> <label for="rua">Endereço</label>
							</div>

						</div>

						<div class="row">
							<div class="input-field col s12 m2">
								<input id="numero" type="text" name="numero" class="validate"
									th:field="*{numero}"> <label for="numero">Número</label>
							</div>
							<div class="input-field col s12 m10">
								<input id="bairro" type="text" name="bairro" class="validate"
									th:field="*{bairro}"> <label for="bairro">Bairro</label>
							</div>

						</div>
						<div class="row">
							<div class="input-field col s12 m4">

								<select id="uf" name="uf" class="validate" th:field="*{uf}">
									<option value="" disabled selected>Selecione</option>
									<option value="AC">Acre</option>
									<option value="AL">Alagoas</option>
									<option value="AP">Amapá</option>
									<option value="AM">Amazonas</option>
									<option value="BA">Bahia</option>
									<option value="CE">Ceará</option>
									<option value="DF">Distrito Federal</option>
									<option value="ES">Espirito Santo</option>
									<option value="GO">Goiás</option>
									<option value="MA">Maranhão</option>
									<option value="MT">Mato Grosso</option>
									<option value="MS">Mato Grosso do Sul</option>
									<option value="MG">Minas Gerais</option>
									<option value="PA">Pará</option>
									<option value="PB">Paraíba</option>
									<option value="PR">Paraná</option>
									<option value="PE">Pernambuco</option>
									<option value="PI">Piauí</option>
									<option value="RJ">Rio de Janeiro</option>
									<option value="RN">Rio Grande do Norte</option>
									<option value="RS">Rio Grande do Sul</option>
									<option value="RO">Rondônia</option>
									<option value="RR">Roraima</option>
									<option value="SC">Santa Catarina</option>
									<option value="SP">São Paulo</option>
									<option value="SE">Sergipe</option>
									<option value="TO">Tocantins</option>

								</select> <label for="uf">UF</label>
							</div>
							<div class="input-field col s12 m8">
								<input id="cidade" type="text" name="cidade"
									th:field="*{cidade}" class="validate"> <label
									for="cidade">Cidade</label>
							</div>
						</div>
						
					</form>
				</div>

			</div>
		</div>
		<div th:insert="/index :: footer"></div>

		<input type="hidden" id="msgSucesso" th:value="${msgSucesso}">
		<input type="hidden" id="msgErro" th:value="${msgErro}">

	</main>


	<!-- Scripts -->
	<script
		src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
	<script src="/js/materialize.min.js"></script>
	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.19.2/moment.min.js"></script>

	<!-- External libraries -->

	<!-- jqvmap -->
	<script type="text/javascript" src="/js/jqvmap/jquery.vmap.min.js"></script>
	<script type="text/javascript" src="/js/jqvmap/jquery.vmap.world.js"
		charset="utf-8"></script>
	<script type="text/javascript"
		src="/js/jqvmap/jquery.vmap.sampledata.js"></script>

	<!-- ChartJS -->
	<script type="text/javascript" src="/js/Chart.js"></script>
	<script type="text/javascript" src="/js/Chart.Financial.js"></script>


	<script
		src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.7.0/fullcalendar.min.js"></script>
	<script
		src="https://cdn.datatables.net/v/dt/dt-1.10.16/datatables.min.js"></script>
	<script src="/js/imagesloaded.pkgd.min.js"></script>
	<script src="/js/masonry.pkgd.min.js"></script>


	<!-- Initialization script -->
	<script src="/js/admin.js"></script>
	<script src="/js/page-scripts/dashboard.js"></script>
	<script src="/js/init.js"></script>
	<script type="text/javascript" src="/js/jquery.mask.js"></script>
	<script type="text/javascript" src="/js/jquery.mask.min.js"></script>


	<script type="text/javascript">
		$('#telefone1').mask('(99) 99999-9999');
		$('#telefone2').mask('(99) 9999-9999');
		$('#cnpj').mask('99.999.999/9999-99');
	</script>

	<script type="text/javascript">
		function validarCampos() {

			nome = document.getElementById('nome').value;

			if (nome === '') {

				M.toast({
					html : 'Nome não pode ser vazio',
					classes : 'red darken-1 rounded'
				});

				return false;
			}

			return true;

		}
	</script>

	<script type="text/javascript">
		var mensagemErro = document.getElementById('msgErro').value;
		var mensagemSucesso = document.getElementById('msgSucesso').value;

		if (mensagemSucesso) {
			M.toast({
				html : mensagemSucesso,
				displayLength : 5000,
				classes : 'green darken-1 rounded'
			});
		}
		if (mensagemErro) {
			M.toast({
				html : mensagemErro,
				displayLength : 5000,
				classes : 'red darken-1 rounded'
			});
		}
	</script>

	<!-- BUSCA CEP VIA CEP -->

	<script type="text/javascript">
		$(document)
				.ready(
						function() {

							function limpa_formulário_cep() {
								// Limpa valores do formulário de cep.
								$("#rua").val("");
								$("#bairro").val("");
								$("#cidade").val("");
								$("#uf").val("");
								$("#ibge").val("");
							}

							//Quando o campo cep perde o foco.
							$("#cep")
									.blur(
											function() {

												//Nova variável "cep" somente com dígitos.
												var cep = $(this).val()
														.replace(/\D/g, '');

												//Verifica se campo cep possui valor informado.
												if (cep != "") {

													//Expressão regular para validar o CEP.
													var validacep = /^[0-9]{8}$/;

													//Valida o formato do CEP.
													if (validacep.test(cep)) {

														//Preenche os campos com "..." enquanto consulta webservice.
														$("#rua").val("...");
														$("#bairro").val("...");
														$("#cidade").val("...");
														$("#uf").val("...");
														$("#ibge").val("...");

														//Consulta o webservice viacep.com.br/
														$
																.getJSON(
																		"https://viacep.com.br/ws/"
																				+ cep
																				+ "/json/?callback=?",
																		function(
																				dados) {

																			if (!("erro" in dados)) {
																				//Atualiza os campos com os valores da consulta.
																				$(
																						"#rua")
																						.val(
																								dados.logradouro);
																				$(
																						"#bairro")
																						.val(
																								dados.bairro);
																				$(
																						"#cidade")
																						.val(
																								dados.localidade);
																				$(
																						"#uf")
																						.val(
																								dados.uf);
																				$(
																						"#ibge")
																						.val(
																								dados.ibge);
																			} //end if.
																			else {
																				//CEP pesquisado não foi encontrado.
																				limpa_formulário_cep();
																				alert("CEP não encontrado.");
																			}
																		});
													} //end if.
													else {
														//cep é inválido.
														limpa_formulário_cep();
														alert("Formato de CEP inválido.");
													}
												} //end if.
												else {
													//cep sem valor, limpa formulário.
													limpa_formulário_cep();
												}
											});
						});
	</script>
	<script type="text/javascript">
	$(document).ready(function(){
	    $('.tooltipped').tooltip();
	  });
	</script>

</body>
</html>